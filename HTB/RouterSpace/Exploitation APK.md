# Exploitation APK

## Obtaining a reverse shell 

Given the RCE vulnerability on the mobile app request to the api, I crafted a payload to gain a reverse shell.

First I enumerated if the `bash` binary was available.

![[bash_available.png]]

And it was so I used a bash reverse shell payload. But it didn't work. So I crafted a shell script with the same payload and tried to transfer it to the machine using the wget command (I checked that it was available).

![[transfer_payload.png]]

But I got no response. I also tried to transfer files using `wget` on the target machine and a Python HTTP server but the request never came through. Definetly this wasn't the way.

## Adding my public SSH key to the user .ssh folder

I usually do this step after I gained a reverse shell but the outgoing connections from the host didn't seem to work. So create the `authorized_keys` file on the `/home/paul/.ssh` folder then give the file the appropriate permissions.

```shell
chmod 644 authorized_keys
```

Then append the attacker's SSH public key to the file.

![[append_rsa_pub.png]]

Then connect via SSH with the attacker's private key.

```shell
ssh -i ~/.ssh/id_rsa paul@X.X.X.X
```

If everything went right, the passphrase for the key will be requested and access is granted to the system.

![[ssh_sess.png]]

Now capture the user flag.

![[user_flag.png]]

[[Vulnerability assessment compromised system]]



